# RAG provider selection (primary + fallback)
# RAG_PROVIDER: auto | gemini | local | fuse
#   - auto: gemini if GEMINI_API_KEY is set, otherwise local
#   - gemini: remote embeddings via Google Gemini
#   - local: local embeddings via @xenova/transformers
#   - fuse: legacy fuzzy search only (no embeddings)
RAG_PROVIDER=auto

# RAG_FALLBACK: none | fuse | local
#   - none: do not fall back if primary fails
#   - fuse: fuzzy search fallback (fast, no embeddings)
#   - local: local embeddings fallback (if primary is gemini)
RAG_FALLBACK=fuse

# Gemini remote embeddings (required when RAG_PROVIDER=gemini)
# * GEMINI_API_KEY: your Gemini API key (never commit to git)
# * GEMINI_EMBED_MODEL: models/embedding-001 | models/gemini-embedding-001 | gemini-embedding-001
# * GEMINI_API_BASE_URL: override for proxies (default https://generativelanguage.googleapis.com)
# * GEMINI_EMBED_BATCH_SIZE: batch size for Gemini embedding requests
# GEMINI_API_KEY=your_key
# GEMINI_EMBED_MODEL=gemini-embedding-001
# GEMINI_API_BASE_URL=https://generativelanguage.googleapis.com
# GEMINI_EMBED_BATCH_SIZE=16

# Local embeddings (used when RAG_PROVIDER=local or fallback=local)
# * RAG_LOCAL_MODEL: Hugging Face model id (default Xenova/all-MiniLM-L6-v2)
# * RAG_LOCAL_QUANTIZED: true|false (smaller/faster model download when true)
# RAG_LOCAL_MODEL=Xenova/all-MiniLM-L6-v2
# RAG_LOCAL_QUANTIZED=true

# Cache locations
# * RAG_CACHE_DIR: vector index cache (default data/.rag-cache)
# * RAG_MODEL_CACHE_DIR: local model cache (default data/.rag-cache/models)
# RAG_CACHE_DIR=data/.rag-cache
# RAG_MODEL_CACHE_DIR=data/.rag-cache/models

# Indexing + retrieval tuning
# * RAG_CHUNK_SIZE: max chars per chunk when embedding doc content
# * RAG_CHUNK_OVERLAP: overlap between chunks (helps context continuity)
# * RAG_MAX_CHUNKS_PER_DOC: cap chunks per doc to control index size
# * RAG_MAX_TEXT_CHARS: max chars per embedding input
# * RAG_MIN_SCORE: minimum cosine similarity to keep a hit (0 disables filtering)
# RAG_CHUNK_SIZE=1200
# RAG_CHUNK_OVERLAP=200
# RAG_MAX_CHUNKS_PER_DOC=6
# RAG_MAX_TEXT_CHARS=4000
# RAG_MIN_SCORE=0

# Cache/boot controls
# * RAG_REBUILD: true to ignore cache and rebuild on startup/search
# * RAG_PREWARM: true to build the embedding index at startup
# * RAG_PREWARM_BLOCK: true to block startup until prewarm completes
# RAG_REBUILD=false
# RAG_PREWARM=false
# RAG_PREWARM_BLOCK=false
